<!DOCTYPE html>
<html lang="en">
<head>
  <title>Workout Tracker</title>
  
  <!-- Protects against Cross-Site Request Forgery attacks -->
  <%= csrf_meta_tags %> 
  
  <!-- Ensures Content Security Policy to protect against XSS and other attacks -->
  <%= csp_meta_tag %>

  <!-- Import Bootstrap CSS framework for responsive design and pre-defined styles -->
  <!-- Source: https://getbootstrap.com/docs/5.3/getting-started/introduction/ -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Import Font Awesome for icons like Facebook, Twitter, Instagram -->
  <!-- Source: https://fontawesome.com -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <!-- Include custom application-specific CSS -->
  <!-- Rails automatically looks for this file in app/assets/stylesheets/application.css -->
  <%= stylesheet_link_tag 'application', media: 'all', 'data-turbo-track': 'reload' %>

  <!-- Include JavaScript dependencies managed by Rails import map -->
  <!-- Documentation: https://guides.rubyonrails.org/working_with_javascript_in_rails.html -->
  <%= javascript_importmap_tags %>
</head>
<body>
  <!-- Navbar Section -->
  <!-- This renders the partial '_navbar.html.erb' located in app/views/partials/ -->
  <header>
    <%= render 'partials/navbar' %>
  </header>

  <!-- Main Content Section -->
  <!-- Bootstrap's container class for responsive content layout with margin-top spacing -->
  <main class="container mt-4">
    
    <!-- Flash Messages -->
    <!-- Bootstrap alert components for success messages -->
    <% if flash[:notice] %>
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        <%= flash[:notice] %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    <% end %>

    <!-- Bootstrap alert components for error messages -->
    <% if flash[:alert] %>
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <%= flash[:alert] %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    <% end %>

    <!-- Yield dynamically injects content from the child views -->
    <%= yield %>
  </main>

  <!-- Footer Section -->
  <!-- Styled using Bootstrap's utility classes (e.g., bg-dark, text-light, py-3) -->
  <footer class="bg-dark text-light py-3 mt-4">
    <div class="container text-center">
      <p>&copy; <%= Date.today.year %> Workout Tracker. All Rights Reserved.</p>
      <!-- Font Awesome icons for social media links -->
      <a href="#" class="text-light me-2"><i class="fab fa-facebook"></i></a>
      <a href="#" class="text-light me-2"><i class="fab fa-twitter"></i></a>
      <a href="#" class="text-light"><i class="fab fa-instagram"></i></a>
    </div>
  </footer>

  <!-- Include Bootstrap's JavaScript bundle for dynamic components like modals and tooltips -->
  <!-- Source: https://getbootstrap.com/docs/5.3/getting-started/introduction/ -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
